<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="stylesheet" href="/css/video.css">
  <title>Selector de Videos</title>
</head>
<body>

  <div class="container">
    <div class="video-player" id="videoContainer">
      <!-- Se insertará video o iframe aquí -->
    </div>

    <div class="video-selector">
      <div class="video-thumb" onclick="changeVideo('<%= data[0][23] %>')">
        Video 1
      </div>
      <div class="video-thumb" onclick="changeVideo('<%= data[0][24] %>')">
        Video 2
      </div>
      <div class="video-thumb" onclick="changeVideo('<%= data[0][25] %>')">
        Video 3
      </div>
    </div>
  </div>

  <script>
    function changeVideo(src) {
      const container = document.getElementById('videoContainer');

      // Limpia el contenido actual
      container.innerHTML = '';

      if (src.includes('youtube.com') || src.includes('youtu.be')) {
        // Extrae el ID del video de YouTube
        const videoId = src.includes('embed')
          ? src.split('/embed/')[1]
          : src.split('v=')[1].split('&')[0];

        const iframe = document.createElement('iframe');
        iframe.src = `https://www.youtube.com/embed/${videoId}?autoplay=1&controls=0&modestbranding=1&rel=0&playsinline=1`;
        iframe.allow = 'accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture';
        iframe.allowFullscreen = true;

        container.appendChild(iframe);
      } else {
        const video = document.createElement('video');
        video.controls = true;
        video.autoplay = true;

        const source = document.createElement('source');
        source.src = src;
        source.type = 'video/mp4';

        video.appendChild(source);
        container.appendChild(video);
      }
    }

    // Cargar Video 1 automáticamente al iniciar la página
    window.onload = function () {
      changeVideo('https://www.youtube.com/watch?v=B1zwsyUy_aUaa');
    };
  </script>

</body>
</html>
